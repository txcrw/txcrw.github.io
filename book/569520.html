<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><script type="text/javascript" src="https://file.bkxsj.com/skin/book/js/sk.js"></script><meta name="robots" content="index,follow"><title>USB开发手册[PDF|Epub|txt|kindle电子书版本网盘下载]-灵感之桥</title><meta name="Keywords" content="USB开发手册"/><meta name="description" content="USB开发手册pdf下载文件大小为110MB,PDF页数为650页"/><meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE;chrome=1"><link type="image/x-icon" rel="shortcut icon" href="https://www.shukui.net/skin/book/images/favicon.ico"><link type="text/css" rel="stylesheet" href="https://www.shukui.net/skin/book/css/style.css"><style>#main .d-main {margin-left: 0;width: 620px;}.down-btn {animation: myShake 2.5s linear .15s infinite}@keyframes myShake {0%, 66% {transform: translateZ(0)}67%, 73.6%, 83.6%, 93.6%, to {animation-timing-function: cubic-bezier(.215, .61, .355, 1);transform: translateZ(0)}80.3%, 81.4% {animation-timing-function: cubic-bezier(.755, .05, .855, .06);transform: translate3d(0, -4px, 0)}90.3% {animation-timing-function: cubic-bezier(.755, .05, .855, .06);transform: translate3d(0, -2px, 0)}97% {transform: translate3d(0, -.5px, 0)}}.copylink-btn {margin-right: 20px;}.copymd5-btn {margin-bottom: 25px;margin-left: 10px;}</style></head><body><div id="header"><div class="inner"><div class="logo"><a href="/"><img width="103" height="25" alt="灵感之桥"src="https://www.shukui.net/skin/book/images/logo.png"></a></div><div class="search"><form action="/so/search.php" target="_blank"><input type="text" autocomplete="off" id="bdcsMain" name="q" placeholder="书名 / 作者 / 出版社 / ISBN"class="inp-txt"><select class="inp-select" id="datasource" onchange="selectDatasource(this)"><option value="so">主库</option><option value="s">从库</option></select><input type="submit" value="搜索" class="inp-btn"></form></div></div></div><div id="main"><div class="d-main"><div class="tit"><h3>图书介绍</h3></div><h1 class="book-name">USB开发手册PDF|Epub|txt|kindle电子书版本网盘下载</h1><div class="d-info"><div class="b-thumb"><img src="https://www.shukui.net/cover/49/30638640.jpg" alt="USB开发手册"></div><div class="b-info"><ul><li>傅志辉编著 著</li><li>出版社： 北京：中国铁道出版社</li><li>ISBN：9787113186746</li><li>出版时间：2014</li><li>标注页数：625页</li><li>文件大小：110MB</li><li>文件页数：650页</li><li>主题词：USB总线－手册</li></ul></div></div><div class="tit"><h3>PDF下载</h3></div><div></br><a style="color:red;" rel="external nofollow" href="https://www.kjlm.net/ebook/569522.html"target="_blank"><b>点此进入-本书在线PDF格式电子书下载【推荐-云解压-方便快捷】直接下载PDF格式图书。移动端-PC端通用</a></b></br><a class="down-btn" rel="external nofollow" href="https://down.trackerbk.com/bt/01/30638640.torrent"target="_blank">种子下载</a>[BT下载速度快]温馨提示：（请使用BT下载软件FDM进行下载）<a rel="nofollow" href="https://www.freedownloadmanager.org/zh/" target="_blank">软件下载地址页</a><a class="down-btn" rel="external nofollow" href="https://down.p2spdb.com/01/30638640.rar" target="_blank">直链下载</a>[便捷但速度慢]&nbsp;&nbsp;<a style="color:red;" rel="external nofollow" href="https://pdfyl.ertongbook.com/13/30638640.pdf" target="_blank"><b>[在线试读本书]</b></a>&nbsp;&nbsp;<b> <a style="color:red;" rel="external nofollow" href="https://web.jyjl.org/index/recovery.html" target="_blank">[在线获取解压码]</a></b><div class="copymd5-btn"><a href="javascript:copyToClip('63e2913f95e3a77318f9650867e08627')">点击复制MD5值：63e2913f95e3a77318f9650867e08627</a></div></div><div class="tit"><h3>下载说明</h3></div><div style="margin:20px 10px"><h2>USB开发手册PDF格式电子书版下载</h2>下载的文件为RAR压缩包。需要使用解压软件进行解压得到PDF格式图书。<br><br><div class="copymd5-btn"><a href="javascript:copyToClip('magnet:?xt=urn:btih:RX6G6JQ2LJW7PBBEDNUSCQM7ICDMHIWK')">点击复制85GB完整离线版磁力链接到迅雷FDM等BT下载工具进行下载</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank">详情点击-查看共享计划</a></div>建议使用BT下载工具Free Download Manager进行下载,简称FDM(免费,没有广告,支持多平台）。本站资源全部打包为BT种子。所以需要使用专业的BT下载软件进行下载。如BitComet qBittorrent uTorrent等BT下载工具。迅雷目前由于本站不是热门资源。不推荐使用！后期资源热门了。安装了迅雷也可以迅雷进行下载！<br><br><b>（文件页数 要大于 标注页数，上中下等多册电子书除外）</b><br><br><p style="color:red;"> <b>注意：本站所有压缩包均有解压码：</b> <a rel="nofollow" target="_blank"><b>点击下载压缩包解压工具</b></a></p></div><div class="tit"><h3>图书目录</h3></div><div id="book-contents"><p>第一篇 USB总线基础1</p><p>第1章 USB总线开发基础1</p><p>1.1 USB总线的发展1</p><p>1.1.1 USB 1.0版本2</p><p>1.1.2 USB 1.1版本2</p><p>1.1.3 USB 2.0版本2</p><p>1.1.4 USB 3.0版本3</p><p>1.2 USB总线对比其他计算机总线4</p><p>1.2.1早期计算机总线接口的缺点4</p><p>1.2.2 USB总线接口的优势5</p><p>1.2.3 USB总线对比其他计算机总线6</p><p>1.3认识USB总线7</p><p>1.3.1 USB主机7</p><p>1.3.2 USB集线器设备8</p><p>1.3.3 USB功能设备8</p><p>1.3.4 USB电缆8</p><p>1.3.5 USB连接器9</p><p>1.4认识USB总线规范13</p><p>1.4.1 USB总线设备类规范14</p><p>1.4.2 USB系统的结构14</p><p>1.4.3 USB总线的供电15</p><p>1.4.4 USB总线电源分配16</p><p>1.4.5 USB总线电源管理17</p><p>1.5认识USB接口开发18</p><p>1.5.1 USB硬件开发18</p><p>1.5.2 USB驱动开发18</p><p>1.5.3 USB软件开发19</p><p>第2章 USB总线数据流结构20</p><p>2.1 USB总线数据流概述20</p><p>2.2USB数据流单元：字段21</p><p>2.2.1同步字段：SYNC21</p><p>2.2.2包标识字段：PID23</p><p>2.2.3地址字段：ADDR23</p><p>2.2.4端点字段：ENDP23</p><p>2.2.5帧号字段：NUM23</p><p>2.2.6数据字段：DATA23</p><p>2.2.7校验字段：CRC24</p><p>2.3 USB数据流构成：信息包24</p><p>2.3.1令牌包：USB传输类型24</p><p>2.3.2数据包：USB传输数据28</p><p>2.3.3握手包：USB传输状态28</p><p>第3章 USB总线数据流管理30</p><p>3.1 USB总线数据流分类30</p><p>3.2 USB IN数据流管理30</p><p>3.2.1 USB设备响应31</p><p>3.2.2 US B主机响应31</p><p>3.3 USB OUT数据流管理31</p><p>3.4 USB SETUP数据流管理32</p><p>3.5 USB PING数据流管理33</p><p>3.6 USB SOF数据流管理34</p><p>3.7 USB SPLIT数据流管理34</p><p>3.7.1 SSPLIT数据流管理34</p><p>3.7.2 CSPLIT数据流管理34</p><p>3.8 USB PRE数据流管理35</p><p>3.9USB设备列举状态35</p><p>3.9.1典型的USB设备状态35</p><p>3.9.2 USB设备的连接37</p><p>3.9.3 US B设备的断开37</p><p>第4章 USB总线数据流类型38</p><p>4.1 USB总线数据流传输类型概述38</p><p>4.2 USB控制数据流传输：Control39</p><p>4.2.1控制传输数据包40</p><p>4.2.2控制数据流管理40</p><p>4.3USB中断数据流传输：Interrupt42</p><p>4.3.1中断传输的数据包42</p><p>4.3.2中断数据流管理42</p><p>4.4USB块数据流传输：Bulk43</p><p>4.4.1块传输的数据包43</p><p>4.4.2块数据流管理43</p><p>4.5USB同步数据流传输：Isochronous44</p><p>4.5.1同步传输的数据包44</p><p>4.5.2同步数据流管理44</p><p>4.6USB 3.0与USB 2.0数据传输的区别45</p><p>4.6.1数据传输方式46</p><p>4.6.2编码方式46</p><p>4.7USB总线容错管理47</p><p>4.7.1超时管理机制48</p><p>4.7.2信息包错误管理机制49</p><p>4.7.3数据触发管理机制49</p><p>4.7.4 EOP错误管理机制51</p><p>4.7.5总线活动丢失管理机制51</p><p>第5章 USB标准设备管理53</p><p>5.1 USB标准设备管理：描述符53</p><p>5.1.1 USB设备描述符54</p><p>5.1.2 USB配置描述符56</p><p>5.1.3 USB接口描述符57</p><p>5.1.4 USB端点描述符58</p><p>5.1.5 USB字符串描述符60</p><p>5.1.6 USB设备限定描述符61</p><p>5.1.7 USB其他速率配置描述符62</p><p>5.2 USB标准设备管理：设备请求63</p><p>5.2.1读取状态请求GetStatus64</p><p>5.2.2清除特性请求ClearFeature65</p><p>5.2.3设置特性请求SetF eature66</p><p>5.2.4设置地址请求SetAddress66</p><p>5.2.5读取描述符请求GetDescription67</p><p>5.2.6设置描述符请求SetDescriptor67</p><p>5.2.7读取配置请求GetConfiiguration67</p><p>5.2.8设置配置请求SetConfiiguration68</p><p>5.2.9读取接口请求GetInterface68</p><p>5.2.10设置接口请求SetInterface68</p><p>5.2.11同步帧请求SynchFrame69</p><p>5.3 USB标准设备管理示例69</p><p>5.3.1声明设备请求69</p><p>5.3.2设备请求的响应70</p><p>第6章 USB HID设备管理74</p><p>6.1 USB HID设备类74</p><p>6.1.1 HID设备的特点74</p><p>6.1.2 HID设备的定义74</p><p>6.2 USB HID设备管理：描述符76</p><p>6.2.1设备描述符76</p><p>6.2.2配置描述符76</p><p>6.2.3接口描述符77</p><p>6.2.4端点描述符77</p><p>6.2.5字符串描述符77</p><p>6.2.6 HID类描述符78</p><p>6.3 USB HID设备管理：HID设备类请求80</p><p>6.3.1 GetReport请求（获取报告请求）80</p><p>6.3.2 GetIdle请求（获取空闲速率请求）81</p><p>6.3.3 GetProtocol请求（获取HID协议请求）81</p><p>6.3.4 SetReport请求（设置报告请求）82</p><p>6.3.5 S etIdle请求（设置空闲速率请求）82</p><p>6.3.6 S etProtocol请求（设置HID协议请求）83</p><p>第7章 USB集线器设备管理84</p><p>7.1 USB集线器配置原理84</p><p>7.1.1集线器设备类85</p><p>7.1.2集线器的配置过程85</p><p>7.1.3 US B集线器的状态86</p><p>7.2 USB集线器设备管理：描述符86</p><p>7.2.1集线器设备描述符86</p><p>7.2.2集线器配置描述符88</p><p>7.2.3集线器接口描述符89</p><p>7.2.4集线器端点描述符90</p><p>7.2.5集线器类描述符91</p><p>7.3 USB集线器设备管理：集线器类请求91</p><p>7.3.1读取集线器状态请求GetHubStatus93</p><p>7.3.2读取下行端口状态请求GetPortStatus93</p><p>7.3.3禁止集线器的特性请求ClearHubFeature94</p><p>7.3.4禁止下行端口特性请求ClearPortFeature94</p><p>7.3.5使能集线器特性请求SetHubF eature95</p><p>7.3.6使能下行端口特性请求SetPortFeature95</p><p>7.3.7读取描述符请求GetHubDescriptor96</p><p>7.3.8设置描述符请求SetHubDescriptor96</p><p>7.3.9清除TT块请求ClearTTBuffer97</p><p>7.3.10复位TT块请求ResetTT97</p><p>7.3.11读取TT内部状态请求GetTTState98</p><p>7.3.12停止TT正常工作请求StopTT99</p><p>第二篇 USB程序开发100</p><p>第8章 Windows驱动程序管理100</p><p>8.1 Windows驱动管理模型：WDM100</p><p>8.1.1 WDM驱动程序特征101</p><p>8.1.2 WD M驱动程序结构102</p><p>8.1.3 WD M驱动程序模型102</p><p>8.1.4 WDM驱动程序构成103</p><p>8.2入口例程的实现104</p><p>8.3即插即用例程的实现105</p><p>8.4分发例程的实现108</p><p>8.5卸载例程的实现109</p><p>8.6电源管理例程的实现109</p><p>8.7设备的即插即用管理111</p><p>8.7.1 WDM PnP IRP的处理规则111</p><p>8.7.2 WDM即插即用的管理113</p><p>8.7.3 US B设备的即插即用114</p><p>第9章 DriverStudio驱动开发工具117</p><p>9.1 DriverStudio驱动开发工具简介117</p><p>9.1.1 DriverStudio软件工具117</p><p>9.1.2 DriverStudio软件的安装及配置119</p><p>9.1.3配置DriverStudio编译环境124</p><p>9.2 DriverStudio环境下WDM驱动结构125</p><p>9.2.1基类KDriver125</p><p>9.2.2即插即用类KPnPDevice127</p><p>9.2.3物理对象类KPnpLowerDevice131</p><p>9.3 DriverStudio环境下WDM驱动程序实例131</p><p>9.3.1简单的驱动程序的建立131</p><p>9.3.2驱动程序设计138</p><p>9.3.3驱动的安装141</p><p>9.3.4驱动程序测试145</p><p>第10章 基于DriverStudio的USB接口编程类147</p><p>10.1 USB编程类函数概述147</p><p>10.2 USB设备编程类KUsbLowerDevice147</p><p>10.2.1激活USB设备配置函数ActivateConfiiguration147</p><p>10.2.2终止USB设备配置函数DeActivateConfiiguration148</p><p>10.2.3初始化厂商请求函数BuildVendorRequest148</p><p>10.2.4分配类请求函数BuildClassRequest149</p><p>10.2.5清除特征标志函数ClearFeature149</p><p>10.2.6设置特征标志函数SetFeature149</p><p>10.2.7获取状态函数GetStatus150</p><p>10.2.8获取USB帧号函数GetCurrentFrameNumber150</p><p>10.2.9未配置状态函数Unconfiigure150</p><p>10.2.10配置状态函数Confiigure150</p><p>10.2.11配置接口函数PreconfiigureInterface150</p><p>10.2.12接口描述符函数LocateInterface150</p><p>10.2.13配置描述符函数Preconfigure151</p><p>10.2.14删除USB资源函数ReleaseResources151</p><p>10.2.15 字符串描述符函数GetStringDescriptor151</p><p>10.2.16设备描述符函数GetDeviceDescriptor151</p><p>10.2.17初始化函数Initialize152</p><p>10.2.18发送URB函数SubmitUrb152</p><p>10.3USB接口编程类KUsbInterface152</p><p>10.3.1使能接口函数SelectAlternate152</p><p>10.3.2清除特征标志函数ClearFeature152</p><p>10.3.3设置特征标志函数SetFeature153</p><p>10.3.4获取状态函数GetStatus153</p><p>10.3.5初始化厂商请求函数BuildVendorRequest153</p><p>10.3.6分配类请求函数BuildCIassRequest154</p><p>10.3.7管道函数Pipes154</p><p>10.3.8管道数量函数NumberOfPipes154</p><p>10.3.9接口协议函数Protocol154</p><p>10.3.10接口子类函数Subclass155</p><p>10.3.11接口类函数Class155</p><p>10.3.12使能接口号函数AltemateSetting155</p><p>10.3.13接口数量函数InterfaceNumber155</p><p>10.3.14初始化函数Initialize155</p><p>10.3.15关闭接口函数Close155</p><p>10.3.16是否打开函数IsOpen155</p><p>10.3.17打开实例函数Open155</p><p>10.3.18发送URB函数SubmitUrb156</p><p>10.3.19是否可用函数IsValid156</p><p>10.4USB管道编程类KUsbPipe156</p><p>10.4.1初始化函数Initialize156</p><p>10.4.2打开接口函数Open156</p><p>10.4.3是否打开函数IsOpen156</p><p>10.4.4关闭管道函数Close157</p><p>10.4.5中断传输函数BuildInterruptTransfer157</p><p>10.4.6控制传输函数Bui IdControlTransfer157</p><p>10.4.7块传输函数BuildBulkTransfer157</p><p>10.4.8同步传输函数BuildIsochronousTransfer158</p><p>10.4.9清除特征标志函数ClearF eature158</p><p>10.4.10设置特征标志函数SetFeature158</p><p>10.4.11获取状态函数GetStatus159</p><p>10.4.12复位管道函数Reset159</p><p>10.4.13丢弃函数Abort159</p><p>10.4.14初始化厂商请求函数BuildVendorRequest159</p><p>10.4.15 初始化类请求函数BuildClassRequest160</p><p>10.4.16最大帧字节数函数MaximumPacketSize160</p><p>10.4.17最大传输字节数函数MaximumTransferSize160</p><p>10.4.18管道句柄函数Handle160</p><p>10.4.19中断检查间隔函数PollInterval160</p><p>10.4.20管道端点地址函数EndpointAddress161</p><p>10.4.21设置最大传输字节数函数SetMaximumTransferSize161</p><p>10.4.22发送URB函数SubmitUrb161</p><p>10.4.23传输类型函数Type161</p><p>10.5 USB驱动创建实例161</p><p>10.5.1 USB驱动程序建立161</p><p>10.5.2 USB驱动程序设计167</p><p>第11章 Cypress通用USB驱动程序169</p><p>11.1驱动程序INF文件简介169</p><p>11.2驱动程序INF文件处理过程169</p><p>11.3驱动程序IN F文件的结构170</p><p>11.3.1版本节[Version]170</p><p>11.3.2源文件盘符节[Source Di sksN arnes]172</p><p>11.3.3 源文件节[SourceDisksFiles]172</p><p>11.3.4目标磁盘节[DestinationDirs]173</p><p>11.3.5供应商节[Manufacturer]173</p><p>11.3.6默认安装节[DefaultInstall]174</p><p>11.3.7字符串节[String]174</p><p>11.4 Cypress的通用USB驱动程序概述174</p><p>11.5 CyLoad.inf文件解析175</p><p>11.5.1 CyLoad.inf文件175</p><p>11.5.2修改设备的VID/PID177</p><p>11.5.3修改字符串177</p><p>11.5.4修改GUID178</p><p>11.5.5修改驱动名称178</p><p>11.6 CyUSB.inf文件解析178</p><p>11.6.1 CyUSB.inf文件178</p><p>11.6.2修改设备的VID/PID180</p><p>11.6.3修改字符串181</p><p>11.6.4修改驱动名称181</p><p>11.7 EZ-USB驱动程序的安装181</p><p>第12章 Cypress的USB接口控制函数185</p><p>12.1 cyioctl控制数类185</p><p>12.1.1头文件cyioctl.h185</p><p>12.1.2获取设备句柄191</p><p>12.1.3中止i/O端点的请求接口IOCTL ADAPT ABORT PIPE191</p><p>12.1.4断开USB设备接口IOCTL ADAPT CYCLE PORT191</p><p>12.1.5获得设备地址接口IOCTL ADAPT GET ADDRESS191</p><p>12.1.6获取替换接口IOCTL ADAPT GET ALT INTERFACE SETTING192</p><p>12.1.7获取字符串接口IOCTL_ADAPT_GET_DEVICE_NAME192</p><p>12.1.8获取电源接口IOCTL_ADAPT_GET_DEVICE_POWER_STATE192</p><p>12.1.9获取版本接口IOCTL_ADAPT_GET_DRIVER_VERSION193</p><p>12.1.10获取替换名称接口IOCTL_ADAPT_GET_FRIENDLY_NAME193</p><p>12.1.11获取端点数接口IOCTL_ADAPT_GET_NUMBER_ENDPOINTS193</p><p>12.1.12获取传输大小接口IOCTL_ADAPT_GET_TRANSFER_SIZE194</p><p>12.1.13获取USBDI接口IOCTL_ADAPT_GET_USBDI_VERSION194</p><p>12.1.14复位设备接口IOCTL_ADAPT_RESET_PARENT_PORT194</p><p>12.1.15复位端点接口IOCTL_ADAPT_RESET_PIPE195</p><p>12.1.16设置替换接口IOCTL_ADAPT_SELECT_INTERFACE195</p><p>12.1.17发送控制请求接口IOCTL_ADAPT_SEND_EPO_CONTROL_TRANSFER195</p><p>12.1.18数据传输接口IOCTL_ADAPT_SEND_NON_EPO_TRANSFER196</p><p>12.1.19设置电源接口IOCTL_ADAPT_SET_DEVICE_POWER_STATE197</p><p>12.1.20设置传输字节接口IOCTL_ADAPT_SET_TRANSFER_SIZE197</p><p>12.2 CyAPI控制函数类198</p><p>12.2.1头文件CyAPI.h198</p><p>12.2.2块传输端点控制类CCyBulkEndPoint208</p><p>12.2.3控制传输端点类CCyControlEndPoint208</p><p>12.2.4中断传输端点控制类CCyInterruptEndPoint210</p><p>12.2.5同步传输端点控制类CCylsocEndPoint211</p><p>12.2.6设备控制类CCyUSBDevice213</p><p>12.2.7配置信息类CCyUSBConfiig223</p><p>12.2.8端点控制类CCyUSBEndPoint225</p><p>12.2.9接口控制类CCyUSBInterface229</p><p>12.3 USB控制函数示例232</p><p>第13章 Cypress EZ-USB接口芯片234</p><p>13.1 EZ-USB芯片简介234</p><p>13.2增强型8051 CPU结构235</p><p>13.3特殊功能寄存器236</p><p>13.4中断系统237</p><p>13.5 I/O端口238</p><p>13.5.1普通I/O功能240</p><p>13.5.2第二扩展功能243</p><p>13.5.3从属FIFO接口模式246</p><p>13.5.4 GPIF模式247</p><p>13.6指令系统248</p><p>第14章 Cypress EZ-USB寄存器详解254</p><p>14.1特殊功能寄存器254</p><p>14.1.1端口PA读/写寄存器IOA254</p><p>14.1.2端口PB读/写寄存器IOB255</p><p>14.1.3自动指针1地址高字节寄存器AUTOPTRH 1255</p><p>14.1.4自动指针1地址低字节寄存器AUTOPTRLI255</p><p>14.1.5自动指针2地址高字节寄存器AUTOPTRH2255</p><p>14.1.6自动指针2地址低字节寄存器AUTOPTRL2256</p><p>14.1.7端口PC读/写寄存器IOC256</p><p>14.1.8中断请求INT2清除寄存器INT2CLR256</p><p>14.1.9中断请求INT4清除寄存器INT4CLR257</p><p>14.1.10端点状态标志寄存器EP2468STAT257</p><p>14.1.11数据传输状态标志寄存器EP24FIFOFLGS258</p><p>14.1.12数据传输状态标志寄存器EP68FIFOFLGS258</p><p>14.1.13自动指针设置寄存器AUTOPTRSETUP259</p><p>14.1.14端口PD读/写寄存器IOD259</p><p>14.1.15 端口PE读/写寄存器IOE259</p><p>14.1.16端口使能寄存器OEA～OEE260</p><p>14.1.17端点0和1的状态寄存器EPO 1 STAT261</p><p>14.1.18触发GPIF寄存器GPIFTRIG261</p><p>14.1.19 GPIF数据寄存器GPIFSGLDATH261</p><p>14.1.20 GPIF数据寄存器GPIFSGLDATLX262</p><p>14.1.21 GPIF数据寄存器GPIFSGLDATLNOX262</p><p>14.2GPIF波形描述寄存器262</p><p>14.3通用配置寄存器263</p><p>14.3.1 CPU控制和状态寄存器263</p><p>14.3.2接口配置263</p><p>14.3.3 Slave FIFO引脚配置264</p><p>14.3.4 FIFO复位266</p><p>14.3.5断点266</p><p>14.3.6串行时钟267</p><p>14.3.7 Slave FIFO接口引脚的极性267</p><p>14.3.8芯片版本ID268</p><p>14.3.9芯片版本控制269</p><p>14.3.10 GPIF保持时间269</p><p>14.4端点配置寄存器269</p><p>14.4.1端点1IN和端点1OUT配置270</p><p>14.4.2端点2、 4、 6、 8配置270</p><p>14.4.3端点2、 4、 6、 8的Slave FIFO配置271</p><p>14.4.4端点2、 4、 6、 8的 AUTO IN包长度272</p><p>14.4.5端点的ISO IN包273</p><p>14.4.6 IN数据包强制结束273</p><p>14.4.7 OUT数据包强制结束273</p><p>14.5中断寄存器275</p><p>14.5.1端点Slave FIFO中断275</p><p>14.5.2 Bulk In中断276</p><p>14.5.3端点握手中断276</p><p>14.5.4 USB中断277</p><p>14.5.5端点中断278</p><p>14.5.6 GPIF中断279</p><p>14.5.7 USB错误中断279</p><p>14.5.8 USB错误计数限制280</p><p>14.5.9清除错误计数281</p><p>14.5.10 IN T2自动向量281</p><p>14.5.11 INT4自动向量281</p><p>14.5.12INT2和INT4的SETUP281</p><p>14.6输入/输出寄存器282</p><p>14.6.1端口A的替换配置282</p><p>14.6.2端口C的替换配置282</p><p>14.6.3端口E的替换配置283</p><p>14.6.4 XTALIN时钟源源283</p><p>14.6.5 I2C总线控制和状态284</p><p>14.6.6 I2C总线数据284</p><p>14.6.7 I2C总线控制284</p><p>14.6.8自动指针的 MOVX操作285</p><p>14.7 USB控制寄存器285</p><p>14.7.1 USB控制和状态285</p><p>14.7.2进入挂起状态286</p><p>14.7.3唤醒控制及状态286</p><p>14.7.4数据触发控制287</p><p>14.7.5 USB帧计数287</p><p>14.7.6 USB微帧计数288</p><p>14.7.7 USB功能地址288</p><p>14.8端点操作寄存器288</p><p>14.8.1端点0计数288</p><p>14.8.2端点1计数289</p><p>14.8.3端点2和端点6的Byte计数高位289</p><p>14.8.4端点4和端点8的Byte计数高位289</p><p>14.8.5端点2.4.6.8计数的低位290</p><p>14.8.6端点0控制和状态290</p><p>14.8.7端点1控制和状态291</p><p>14.8.8端点2控制和状态292</p><p>14.8.9端点4控制和状态292</p><p>14.8.10端点6控制和状态293</p><p>14.8.11端点8控制和状态293</p><p>14.8.12端点2和端点4的FIFO标志294</p><p>14.8.13端点6和端点8的FIFO标志294</p><p>14.8.14端点2的Slave FIFO字节计数高位294</p><p>14.8.15 端点6的Slave FIFO字节计数高位295</p><p>14.8.16端点4和端点8的Slave FIFO字节计数高位295</p><p>14.8.17端点2、 4、 6和端点8 Slave FIFO字节计数低位295</p><p>14.8.18 Setup数据指针地址296</p><p>14.8.19 Setup指针自动模式296</p><p>14.8.20 8字节Setup数据297</p><p>14.9 GPIF/FIFOs寄存器297</p><p>14.9.1 GPIF波形选择298</p><p>14.9.2 GPIF完成和空闲298</p><p>14.9.3 CTL的输出状态299</p><p>14.9.4 GPIF地址300</p><p>14.9.5 GPIF流动状态300</p><p>14.9.6 GPIF处理字节计数301</p><p>14.9.7端点2、 4、 6和端点8的GPIF标志选择303</p><p>14.9.8端点2、 4、 6和端点8的GPIF停止事务303</p><p>14.9.9端点2、 4、 6和端点8的GPIF触发303</p><p>14.9.10 GPIF数据304</p><p>14.9.11 GPIF RDY引脚的配置305</p><p>14.9.12 GPIF RDY引脚状态306</p><p>14.9.13终止GPIF循环306</p><p>14.10端点缓冲寄存器306</p><p>14.10.1端点0306</p><p>14.10.2端点1IN307</p><p>14.10.3端点1 OUT307</p><p>14.10.4端点2307</p><p>14.10.5端点4308</p><p>14.10.6端点6309</p><p>14.10.7端点8309</p><p>第15章 Cypress EZ-USB固件设计310</p><p>15.1 EZ-USB开发工具包310</p><p>15.1.1安装开发工具包310</p><p>15.1.2开发包工具简介314</p><p>15.2 EZ-USB基本固件框架316</p><p>15.2.1基本固件框架的建立316</p><p>15.2.2基本电路图317</p><p>15.2.3固件设计和运行318</p><p>15.3 EZ-USB固件程序设计323</p><p>15.3.1 USB端口读/写的程序设计323</p><p>15.3.2 USB端口读/写的固件仿真调试327</p><p>15.3.3 USB端点的数据发送和采集328</p><p>15.3.4数据发送和采集仿真调试332</p><p>第三篇 USB开发实例334</p><p>第16章 USB接口LED数码管显示器实例334</p><p>16.1 USB控制端点0请求334</p><p>16.1.1 USB控制传输流程334</p><p>16.1.2 USB设备请求及固件响应335</p><p>16.1.3自定义请求346</p><p>16.2 LED数码管显示器346</p><p>16.2.1共阳极7段LED347</p><p>16.2.2共阴极7段LED348</p><p>16.3电路原理图349</p><p>16.3.1电源部分电路350</p><p>16.3.2 USB部分电路351</p><p>16.4 USB固件程序设计351</p><p>16.4.1主程序文件352</p><p>16.4.2功能实现代码360</p><p>16.4.3自定义请求的定义362</p><p>16.4.4 USB描述符369</p><p>16.4.5固件程序安装及调试375</p><p>16.5 USB主机程序设计378</p><p>16.5.1控制函数379</p><p>16.5.2建立项目380</p><p>16.5.3程序设计384</p><p>16.5.4编译程序并运行388</p><p>第17章 USB自定义设备实例389</p><p>17.1 EZ-USB的启动模式389</p><p>17.1.1 EZ-USB的启动模式389</p><p>17.1.2默认USB设备状态390</p><p>17.2 EZ-USB的EEPROM引导启动391</p><p>17.2.1没有EEPROM，或者EEPROM的首字节不合法391</p><p>17.2.2首字节为0xC0的EEPROM启动392</p><p>17.2.3首字节为0xC2的EEPROM启动392</p><p>17.2.4配置字节393</p><p>17.2.5设备请求控制位RENUM394</p><p>17.2.6固件下载和重列举395</p><p>17.3 USB自定义设备实例396</p><p>17.3.1硬件选型的写入396</p><p>17.3.2 EEPROM读/写电路设计396</p><p>17.4 EEPROM读/写程序397</p><p>17.4.1宏定义398</p><p>17.4.2延时函数398</p><p>17.4.3基本操作函数399</p><p>17.4.4 12C读/写函数400</p><p>17.4.5主程序402</p><p>17.4.6编译工程403</p><p>17.5 USB自定义设备电路设计403</p><p>17.6 USB自定义设备固件程序设计404</p><p>17.6.1主程序文件405</p><p>17.6.2请求响应函数407</p><p>17.6.3初始化子程序410</p><p>17.6.4功能子程序411</p><p>17.6.5自定义请求的定义411</p><p>17.7 USB描述符412</p><p>17.7.1设备描述符412</p><p>17.7.2高速配置描述符412</p><p>17.7.3全速配置描述符414</p><p>17.7.4字符串描述符416</p><p>17.8驱动程序设计417</p><p>17.8.1编辑PMDriverLoad.inf文件417</p><p>17.8.2编辑QKDPMDriver.inf文件419</p><p>17.9驱动程序的安装422</p><p>17.9.1安装驱动422</p><p>17.9.2测试设备425</p><p>17.10固件仿真调试426</p><p>17.11主机程序设计426</p><p>17.11.1建立工程426</p><p>17.11.2用户界面设计429</p><p>17.11.3程序代码设计430</p><p>17.11.4编译执行432</p><p>第18章 USB的RAM读1写实例434</p><p>18.1 EZ-USB FX2LP的存储器434</p><p>18.1.1内部数据RAM434</p><p>18.1.2外部程序和数据存储空间437</p><p>18.1.3 EZ-USB FX2LP的内存映射438</p><p>18.1.4 Von-Neumanni zing片外程序和数据存储器439</p><p>18.1.5 0xE000～0xFFFF之间的片内数据存储器440</p><p>18.2 USB的RAM读/写电路设计441</p><p>18.2.1电路原理图441</p><p>18.2.2 USB接口说明442</p><p>18.2.3 I2C总线接口芯片PCF8574442</p><p>18.3建立USB固件程序项目443</p><p>18.4主程序文件444</p><p>18.4.1宏定义和函数变量声明444</p><p>18.4.2读/写RAM区域函数446</p><p>18.4.3错误码分析函数447</p><p>18.4.4字符串输出函数448</p><p>18.4.5主函数448</p><p>18.5头文件简介450</p><p>18.5.1常量定义451</p><p>18.5.2宏定义453</p><p>18.5.3数据类型454</p><p>18.5.4全局声明457</p><p>18.5.5函数声明458</p><p>第19章 USB自动数据传输实例459</p><p>19.1 Slave FIFO模式简介459</p><p>19.1.1 Slave FIFO模式的引脚460</p><p>19.1.2典型的数据传输时序464</p><p>19.2Slave FIFO模式的固件设计470</p><p>19.2.1 Slave FIFO固件基础471</p><p>19.2.2 AUTO IN/AUTO OUT方式471</p><p>19.2.3 CPU访问OUT数据包473</p><p>19.2.4 CPU访问IN数据包475</p><p>19.2.5 AUTO IN/AUTO OUT方式初始化477</p><p>19.3 USB自动数据传输实例479</p><p>19.3.1电路设计479</p><p>19.3.2外部控制逻辑程序设计481</p><p>19.3.3 USB固件程序设计483</p><p>19.3.4固件仿真调试494</p><p>19.3.5主机控制函数简介495</p><p>19.3.6上位机程序设计496</p><p>19.3.7程序运行506</p><p>第20章 USB高速数据采集实例508</p><p>20.1 EZ-USB的GPIF模式508</p><p>20.1.1 GPIF模式简介508</p><p>20.1.2 GPIF的硬件组成509</p><p>20.1.3 GPIF硬件配置512</p><p>20.2 GPIF波形图编辑512</p><p>20.2.1 GPIF寄存器512</p><p>20.2.2可编程GPIF波形512</p><p>20.2.3波形图设计工具513</p><p>20.2.4波形图设计实例514</p><p>20.3 GPIF固件编程514</p><p>20.3.1单字节读数据传输516</p><p>20.3.2单字节写数据传输519</p><p>20.3.3 FIFO读数据传输522</p><p>20.3.4 FIFO写数据传输526</p><p>20.4基于GPIF模式的高速数据采集电路530</p><p>20.4.1数据采集电路图530</p><p>20.4.2外部FIFO接口531</p><p>20.5数据采集波形图编辑533</p><p>20.5.1接口设计533</p><p>20.5.2数据读/写设计535</p><p>20.5.3波形描述符文件536</p><p>20.6固件程序设计539</p><p>20.6.1 USB描述符539</p><p>20.6.2主程序545</p><p>20.6.3功能实现文件547</p><p>20.6.4初始化代码548</p><p>20.6.5数据传输函数550</p><p>20.6.6调度函数550</p><p>20.6.7自定义请求552</p><p>20.7 USB主机程序设计554</p><p>20.7.1创建主机程序554</p><p>20.7.2界面设计557</p><p>20.7.3主机程序初始化558</p><p>20.7.4按钮功能实现559</p><p>20.7.5线程处理561</p><p>第21章 USB HID设备设计实例565</p><p>21.1简易USB HID键盘原理图565</p><p>21.2 USB固件程序开发566</p><p>21.2.1建立USB固件程序566</p><p>21.2.2键盘描述符567</p><p>21.2.3主程序文件573</p><p>21.2.4功能实现代码575</p><p>21.3设备测试578</p><p>第22章 USB转串口实例579</p><p>22.1CH341芯片简介579</p><p>22.1.1 CH341芯片的特点579</p><p>22.1.2异步串口方式580</p><p>22.1.3打印口582</p><p>22.1.4并口584</p><p>22.1.5同步串口586</p><p>22.1.6功能配置586</p><p>22.2 USB转串口实例587</p><p>22.2.1电路图587</p><p>22.2.2硬件介绍588</p><p>22.2.3连接使用589</p><p>第23章 控制UsB接口打印机实例590</p><p>23.1 CH375A接口芯片590</p><p>23.1.1 CH375A概述591</p><p>23.1.2CH375A内部结构592</p><p>23.2 CH375A基本指令593</p><p>23.2.1设置设备地址命令SET_USB_ADDR594</p><p>23.2.2设置端点接收器命令SET_ENDP6594</p><p>23.2.3设置端点发送器命令SET_ENDP7594</p><p>23.2.4设置重试次数命令SET_RETRY595</p><p>23.2.5事务执行命令ISSUE_TOKEN595</p><p>23.2.6清除端点错误命令CLR_STALL595</p><p>23.2.7设置地址命令SET_ADDRESS596</p><p>23.2.8获取描述符命令GET_DESCR596</p><p>23.2.9设置USB配置命令SET_CONFIG596</p><p>23.2.10读取数据块命令RD_USB_DATA0596</p><p>23.2.11延时100μS命令DELAY_100US596</p><p>23.2.12查询连接状态命令TEST_CONNECT596</p><p>23.2.13同步令牌事务命令ISSUE_TKN_X597</p><p>23.2.14自动配置设备命令AUTO_SETUP597</p><p>23.3 USB存储设备类指令597</p><p>23.3.1硬件复位命令RESET_ALL598</p><p>23.3.2测试工作状态命令CHECK_EXIST598</p><p>23.3.3设置工作模式命令SET_USB_MODE598</p><p>23.3.4获取中断状态命令GET_STATUS599</p><p>23.3.5设置串口波特率命令SET_BAUDRATE599</p><p>23.3.6读取数据块命令RD_USB_DATA600</p><p>23.3.7写入数据块命令WR_USB_DATA7600</p><p>23.3.8终止命令ABORT NAK600</p><p>23.3.9初始化存储设备命令DISK_INIT600</p><p>23.3.10获取物理容量命令DISK_SIZE601</p><p>23.3.11读取数据块命令DISK_READ601</p><p>23.3.12读操作命令DISK_RD_GO601</p><p>23.3.13写入数据块命令DISK_WRITE601</p><p>23.3.14写操作命令DISK_WR_GO602</p><p>23.3.15获取版本命令GET_IC_VER602</p><p>23.3.16低功耗状态命令ENTER_SLEEP602</p><p>23.3.17设置逻辑单元号命令SET_DISK_LUN602</p><p>23.3.18查询特性命令DISK_INQUIRY602</p><p>23.3.19检查存储设备是否就绪命令DISK_READY603</p><p>23.3.20检查错误命令DISK_R_SENSE603</p><p>23.3.21获取最大逻辑单元号命令DISK_MAX_LUN603</p><p>23.4接口方式603</p><p>23.4.1并行接口603</p><p>23.4.2串行接口604</p><p>23.5USB打印机控制实例605</p><p>23.5.1 USB打印机控制方式605</p><p>23.5.2电路图605</p><p>23.5.3项目建立608</p><p>23.6头文件609</p><p>23.6.1指令声明609</p><p>23.6.2操作状态及中断状态613</p><p>23.6.3请求类型614</p><p>23.7程序设计615</p><p>23.7.1头文件615</p><p>23.7.2参数及结构定义615</p><p>23.7.3基本操作函数617</p><p>23.7.4数据同步及读/写619</p><p>23.7.5主机操作620</p><p>23.7.6主函数625</p><p></p></div></div><div class="d-rt"><h3>热门推荐</h3><ul><li><a href="/book/3254847.html">3254847.html</a></li><li><a href="/book/1424621.html">1424621.html</a></li><li><a href="/book/80291.html">80291.html</a></li><li><a href="/book/1428551.html">1428551.html</a></li><li><a href="/book/3289697.html">3289697.html</a></li><li><a href="/book/3892156.html">3892156.html</a></li><li><a href="/book/1249746.html">1249746.html</a></li><li><a href="/book/3857048.html">3857048.html</a></li><li><a href="/book/2084273.html">2084273.html</a></li><li><a href="/book/2828177.html">2828177.html</a></li></ul></div></div><div id="footer"><p>Copyright&nbsp;&copy;&nbsp;2025&nbsp;&nbsp;<a href="/list/">最新更新</a></p><p>请使用FDM BitComet qBittorrent uTorrent等BT下载工具，下载本站电子书资源！首推Free Download Manager下载软件。文件页数>标注页数[分册图书除外]</p></div></body></html>